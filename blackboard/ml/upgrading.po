# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2009-01-26 19:48-0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: ENCODING"

# type: Attribute 'lang' of: <chapter>
#: en/upgrading.dbk:7
msgid "en"
msgstr ""

# type: Content of: <chapter><title>
#: en/upgrading.dbk:8
msgid "Upgrades from previous releases"
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:10
msgid "Preparing for the upgrade"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:12
msgid ""
"We suggest that before upgrading you also read the information in <xref "
"linkend=\"ch-information\"/>.  That chapter covers potential issues not "
"directly related to the upgrade process but which could still be important "
"to know about before you begin."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:18
msgid "Back up any data or configuration information"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:20
msgid ""
"Before upgrading your system, it is strongly recommended that you make a "
"full backup, or at least back up any data or configuration information you "
"can't afford to lose.  The upgrade tools and process are quite reliable, but "
"a hardware failure in the middle of an upgrade could result in a severely "
"damaged system."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:27
msgid ""
"The main things you'll want to back up are the contents of "
"<filename>/etc</filename>, <filename>/var/lib/dpkg</filename>, "
"<filename>/var/lib/aptitude/pkgstates</filename> and the output of "
"<literal>dpkg --get-selections \"*\"</literal> (the quotes are important)."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:33
msgid ""
"The upgrade process itself does not modify anything in the "
"<filename>/home</filename> directory.  However, some applications (e.g.  "
"parts of the Mozilla suite, and the GNOME and KDE desktop environments) are "
"known to overwrite existing user settings with new defaults when a new "
"version of the application is first started by a user.  As a precaution, you "
"may want to make a backup of the hidden files and directories "
"(<quote>dotfiles</quote>) in users' home directories.  This backup may help "
"to restore or recreate the old settings.  You may also want to inform users "
"about this."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:43
msgid ""
"Any package installation operation must be run with superuser privileges, so "
"either login as <literal>root</literal> or use <command>su</command> or "
"<command>sudo</command> to gain the necessary access rights."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:48
msgid ""
"The upgrade has a few preconditions; you should check them before actually "
"executing the upgrade."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:54
msgid "Inform users in advance"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:56
msgid ""
"It's wise to inform all users in advance of any upgrades you're planning, "
"although users accessing your system via an <command>ssh</command> "
"connection should notice little during the upgrade, and should be able to "
"continue working."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:62
msgid ""
"If you wish to take extra precautions, back up or unmount users' partitions "
"(<filename>/home</filename>) before upgrading."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:66
msgid ""
"You will probably have to do a kernel upgrade when upgrading to "
"&releasename;, so a reboot will normally be necessary.  Typically, this will "
"be done after the upgrade is finished."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:73
msgid "Prepare for recovery"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:75
msgid ""
"Because of the many changes in the kernel between &oldreleasename; and "
"&releasename; regarding drivers, hardware discovery and the naming and "
"ordering of device files, there is a real risk that you may experience "
"problems rebooting your system after the upgrade.  A lot of known potential "
"issues are documented in this and the next chapters of these Release Notes."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:82
msgid ""
"For that reason it makes sense to ensure that you will be able to recover if "
"your system should fail to reboot or, for remotely managed systems, fail to "
"bring up networking."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:87
msgid ""
"If you are upgrading remotely via an <command>ssh</command> link it is "
"highly recommended that you take the necessary precautions to be able to "
"access the server through a remote serial terminal.  There is a chance that, "
"after upgrading the kernel and rebooting, some devices will be renamed (as "
"described in <xref linkend=\"device-reorder\"/> ) and you will have to fix "
"the system configuration through a local console.  Also, if the system is "
"rebooted accidentally in the middle of an upgrade there is a chance you will "
"need to recover using a local console."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:97
msgid ""
"The most obvious thing to try first is to reboot with your old kernel.  "
"However, for various reasons documented elsewhere in this document, this is "
"not guaranteed to work."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:102
msgid ""
"If that fails, you will need an alternative way to boot your system so you "
"can access and repair it.  One option is to use a special rescue image or a "
"Linux live CD.  After booting from that, you should be able to mount your "
"root file system and <literal>chroot</literal> into it to investigate and "
"fix the problem."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:109
msgid ""
"Another option we'd like to recommend is to use the <emphasis>rescue "
"mode</emphasis> of the &releasename; Debian Installer.  The advantage of "
"using the installer is that you can choose between its many installation "
"methods for one that best suits your situation.  For more information, "
"please consult the section <quote>Recovering a Broken System</quote> in "
"chapter 8 of the <ulink url=\"&url-install-manual;\">Installation "
"Guide</ulink> and the <ulink url=\"&url-wiki;DebianInstaller/FAQ\">Debian "
"Installer FAQ</ulink>."
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:119
msgid "Debug shell during boot using initrd"
msgstr ""

# type: Content of: <chapter><section><section><section><para><footnote>
#: en/upgrading.dbk:121
msgid ""
"The <systemitem role=\"package\">initramfs-tools</systemitem> includes a "
"debug shell<footnote>"
msgstr ""

# type: Content of: <chapter><section><section><section><para><footnote><para>
#: en/upgrading.dbk:122
msgid ""
"This feature can be disabled by adding the parameter "
"<literal>panic=0</literal> to your boot parameters."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:123
msgid ""
"</footnote> in the initrds it generates.  If for example the initrd is "
"unable to mount your root file system, you will be dropped into this debug "
"shell which has basic commands available to help trace the problem and "
"possibly fix it."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:129
msgid ""
"Basic things to check are: presence of correct device files in "
"<filename>/dev</filename>; what modules are loaded (<literal>cat "
"/proc/modules</literal>); output of <command>dmesg</command> for errors "
"loading drivers.  The output of <command>dmesg</command> will also show what "
"device files have been assigned to which disks; you should check that "
"against the output of <literal>echo $ROOT</literal> to make sure that the "
"root file system is on the expected device."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:138
msgid ""
"If you do manage to fix the problem, typing <literal>exit</literal> will "
"quit the debug shell and continue the boot process at the point it failed.  "
"Of course you will also need to fix the underlying problem and regenerate "
"the initrd so the next boot won't fail again."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:148
msgid "Prepare a safe environment for the upgrade"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:150
msgid ""
"The distribution upgrade should be done either locally from a textmode "
"virtual console (or a directly connected serial terminal), or remotely via "
"an <command>ssh</command> link."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:155
msgid ""
"In order to gain extra safety margin when upgrading remotely, we suggest "
"that you run upgrade processes in the virtual console provided by the "
"<command>screen</command> program, which enables safe reconnection and "
"ensures the upgrade process is not interrupted even if the remote connection "
"process fails."
msgstr ""

# type: Content of: <chapter><section><section><important><para>
#: en/upgrading.dbk:163
msgid ""
"You should <emphasis>not</emphasis> upgrade using <command>telnet</command>, "
"<command>rlogin</command>, <command>rsh</command>, or from an X session "
"managed by <command>xdm</command>, <command>gdm</command> or "
"<command>kdm</command> etc on the machine you are upgrading.  That is "
"because each of those services may well be terminated during the upgrade, "
"which can result in an <emphasis>inaccessible</emphasis> system that is only "
"half-upgraded."
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:173
#, no-wrap
msgid ""
"\n"
"TODO: surely gdm/kdm are sane?\n"
"(vorlon) haha, no, gdm is not; I had that thought, and tested a gdm\n"
"         restart on my live session ;)\n"
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:182
msgid ""
"Prepare initramfs for "
"<acronym>LILO</acronym><indexterm><primary>LILO</primary></indexterm>"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:184
msgid ""
"Users using the <acronym>LILO</acronym> bootloader should note that the "
"default settings for <systemitem "
"role=\"package\">initramfs-tools</systemitem> now generate an initramfs that "
"is too large for <acronym>LILO</acronym> to load. Such users should either "
"switch to <systemitem role=\"package\">grub</systemitem>, or edit the file "
"<filename>/etc/initramfs-tools/initramfs.conf</filename>, changing the line"
msgstr ""

# type: Content of: <chapter><section><section><para><programlisting>
#: en/upgrading.dbk:191 en/upgrading.dbk:201
#, no-wrap
msgid "MODULES=most"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:191
msgid "to read"
msgstr ""

# type: Content of: <chapter><section><section><para><programlisting>
#: en/upgrading.dbk:192
#, no-wrap
msgid "MODULES=dep"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:195
msgid ""
"Note, however, that doing this will cause <systemitem "
"role=\"package\">initramfs-tools</systemitem> to install only those modules "
"that are required for the particular hardware that it is run on, onto the "
"initramfs; as such, if you want to generate a boot medium that will work on "
"more hardware than just the one you're generating it on, you should leave "
"the setting to"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:201
msgid "and make sure you do not use <acronym>LILO</acronym>."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:209
msgid "Checking system status"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:211
msgid ""
"The upgrade process described in this chapter has been designed for upgrades "
"from <quote>pure</quote> &oldreleasename; systems without third-party "
"packages.  For the greatest reliability of the upgrade process, you may wish "
"to remove third-party packages from your system before you begin upgrading."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:218
msgid ""
"This procedure also assumes your system has been updated to the latest point "
"release of &oldreleasename;.  If you have not done this or are unsure, "
"follow the instructions in <xref linkend=\"old-upgrade\"/>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:223
msgid "Review actions pending in package manager"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:225
msgid ""
"In some cases, the use of <command>apt-get</command> for installing packages "
"instead of <command>aptitude</command> might make "
"<command>aptitude</command> consider a package as <quote>unused</quote> and "
"schedule it for removal.  In general, you should make sure the system is "
"fully up-to-date and <quote>clean</quote> before proceeding with the "
"upgrade."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:232
msgid ""
"Because of this you should review if there are any pending actions in the "
"package manager <command>aptitude</command>.  If a package is scheduled for "
"removal or update in the package manager, it might negatively impact the "
"upgrade procedure.  Note that correcting this is only possible if your "
"<filename>sources.list</filename> still points to "
"<emphasis>&oldreleasename;</emphasis>; and not to "
"<emphasis>stable</emphasis> or <emphasis>&releasename;</emphasis>; see <xref "
"linkend=\"old-sources\"/>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:241
msgid ""
"To do this, you have to run <command>aptitude</command> in <quote>visual "
"mode</quote> and press <keycap>g</keycap> (<quote>Go</quote>).  If it shows "
"any actions, you should review them and either fix them or implement the "
"suggested actions.  If no actions are suggested you will be presented with a "
"message saying <quote>No packages are scheduled to be installed, removed, or "
"upgraded</quote>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:250
msgid "Disabling APT pinning"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:252
msgid ""
"If you have configured APT to install certain packages from a distribution "
"other than stable (e.g.  from testing), you may have to change your APT "
"pinning configuration (stored in <filename>/etc/apt/preferences</filename>) "
"to allow the upgrade of packages to the versions in the new stable release.  "
"Further information on APT pinning can be found in <citerefentry> "
"<refentrytitle>apt_preferences</refentrytitle> <manvolnum>5</manvolnum> "
"</citerefentry>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:263
msgid "Checking packages status"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:265
msgid ""
"Regardless of the method used for upgrading, it is recommended that you "
"check the status of all packages first, and verify that all packages are in "
"an upgradable state.  The following command will show any packages which "
"have a status of Half-Installed or Failed-Config, and those with any error "
"status."
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:270
#, no-wrap
msgid ""
"\n"
"# dpkg --audit\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:274
msgid ""
"You could also inspect the state of all packages on your system using "
"<command>dselect</command>, <command>aptitude</command>, or with commands "
"such as"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:278
#, no-wrap
msgid ""
"\n"
"# dpkg -l | pager\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:282
msgid "or"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:284
#, no-wrap
msgid ""
"\n"
"# dpkg --get-selections \"*\" &gt; ~/curr-pkgs.txt\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:288
msgid ""
"It is desirable to remove any holds before upgrading.  If any package that "
"is essential for the upgrade is on hold, the upgrade will fail."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:292
msgid ""
"Note that <command>aptitude</command> uses a different method for "
"registering packages that are on hold than <command>apt-get</command> and "
"<command>dselect</command>.  You can identify packages on hold for "
"<command>aptitude</command> with"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:297
#, no-wrap
msgid ""
"\n"
"# aptitude search \"~ahold\" | grep \"^.h\"\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:301
msgid ""
"If you want to check which packages you had on hold for "
"<command>apt-get</command>, you should use"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:304
#, no-wrap
msgid ""
"\n"
"# dpkg --get-selections | grep hold\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:308
msgid ""
"If you changed and recompiled a package locally, and didn't rename it or put "
"an epoch in the version, you must put it on hold to prevent it from being "
"upgraded."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:313
msgid ""
"The <quote>hold</quote> package state for <command>aptitude</command> can be "
"changed using:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:315
#, no-wrap
msgid ""
"\n"
"# aptitude hold <replaceable>package_name</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:319
msgid ""
"Replace <literal>hold</literal> with <literal>unhold</literal> to unset the "
"<quote>hold</quote> state."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:323
msgid ""
"If there is anything you need to fix, it is best to make sure your "
"<filename>sources.list</filename> still refers to &oldreleasename; as "
"explained in <xref linkend=\"old-sources\"/>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:330
msgid "The proposed-updates section"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:332
msgid ""
"If you have listed the <literal>proposed-updates</literal> section in your "
"<filename>/etc/apt/sources.list</filename> file, you should remove it from "
"that file before attempting to upgrade your system.  This is a precaution to "
"reduce the likelihood of conflicts."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:341
msgid "Unofficial sources and backports"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:343
msgid ""
"If you have any non-Debian packages on your system, you should be aware that "
"these may be removed during the upgrade because of conflicting "
"dependencies.  If these packages were installed by adding an extra package "
"archive in your <filename>/etc/apt/sources.list</filename>, you should check "
"if that archive also offers packages compiled for &releasename; and change "
"the source line accordingly at the same time as your source lines for Debian "
"packages."
msgstr ""

# type: Content of: <chapter><section><section><para><footnote>
#: en/upgrading.dbk:351
msgid ""
"Some users may have unofficial backported <quote>newer</quote> versions of "
"packages that <emphasis>are</emphasis> in Debian installed on their "
"&oldreleasename; system.  Such packages are most likely to cause problems "
"during an upgrade as they may result in file conflicts<footnote>"
msgstr ""

# type: Content of: <chapter><section><section><para><footnote><para>
#: en/upgrading.dbk:354
msgid ""
"Debian's package management system normally does not allow a package to "
"remove or replace a file owned by another package unless it has been defined "
"to replace that package."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:356
msgid ""
"</footnote>.  <xref linkend=\"trouble\"/> has some information on how to "
"deal with file conflicts if they should occur."
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:361
msgid "Using <literal>backports.org</literal> packages"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:363
msgid ""
"<literal>backports.org</literal> is a semi-official repository provided by "
"debian developers, which provides newer packages for the stable release, "
"based on a rebuild from the packages from the <quote>testing</quote> "
"archive."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:369
msgid ""
"The <literal>backports.org</literal> repository contains packages from "
"<quote>testing</quote>, but with reduced version numbers, therefore the "
"upgrade path from &oldreleasename; backports to &releasename; is "
"saved. However, there are a few backports only which are made from unstable "
"(security updates and the following exceptions: firefox, kernel, "
"openoffice.org, xorg)."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:377
msgid ""
"If you do not use one of these exceptions, you can safely upgrade to "
"&releasename;. If you use one of these exceptions, set the pin-priority (see "
"<command>man apt_preferences</command>)  temporarily to "
"<literal>1001</literal> for all packages from etch, and you should be able "
"to do a safe dist-upgrade too. See the <ulink "
"url=\"http://backports.org/dokuwiki/doku.php?id=faq\">backports FAQ</ulink>."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:392
msgid "Manually unmarking packages"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:394
msgid ""
"To prevent <command>aptitude</command> from removing some packages that were "
"pulled in through dependencies, you need to manually unmark them as "
"<emphasis>auto</emphasis> packages.  This includes OpenOffice and Vim for "
"desktop installs:"
msgstr ""

# type: Content of: <chapter><section><screen>
#: en/upgrading.dbk:399
#, no-wrap
msgid ""
"\n"
"# aptitude unmarkauto openoffice.org vim\n"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:403
msgid "And 2.6 kernel images if you have installed them using a kernel metapackage:"
msgstr ""

# type: Content of: <chapter><section><screen>
#: en/upgrading.dbk:405
#, no-wrap
msgid ""
"\n"
"# aptitude unmarkauto $(dpkg-query -W 'kernel-image-2.6.*' | cut -f1)\n"
msgstr ""

# type: Content of: <chapter><section><note><para>
#: en/upgrading.dbk:410
msgid ""
"You can review which packages are marked as <emphasis>auto</emphasis> in "
"aptitude by running:"
msgstr ""

# type: Content of: <chapter><section><note><screen>
#: en/upgrading.dbk:413
#, no-wrap
msgid "# aptitude search 'i~M <replaceable>package_name</replaceable>'"
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:418
msgid "Preparing sources for APT"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:420
msgid ""
"Before starting the upgrade you must set up <systemitem "
"role=\"package\">apt</systemitem>'s configuration file for package lists, "
"<filename>/etc/apt/sources.list</filename>."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:425
msgid ""
"<systemitem role=\"package\">apt</systemitem> will consider all packages "
"that can be found via any <quote><literal>deb</literal></quote> line, and "
"install the package with the highest version number, giving priority to the "
"first mentioned lines (that way, in case of multiple mirror locations, you'd "
"typically first name a local harddisk, then CD-ROMs, and then HTTP/FTP "
"mirrors)."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:432
msgid ""
"A release can often be referred to both by its codename (e.g.  "
"<literal>&oldreleasename;</literal>, <literal>&releasename;</literal>) and "
"by its status name (i.e. <literal>oldstable</literal>, "
"<literal>stable</literal>, <literal>testing</literal>, "
"<literal>unstable</literal>).  Referring to a release by its codename has "
"the advantage that you will never be surprised by a new release and for this "
"reason is the approach taken here.  It does of course mean that you will "
"have to watch out for release announcements yourself.  If you use the status "
"name instead, you will just see loads of updates for packages available as "
"soon as a release has happened."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:443
msgid "Adding APT Internet sources"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:445
msgid ""
"The default configuration is set up for installation from main Debian "
"Internet servers, but you may wish to modify "
"<filename>/etc/apt/sources.list</filename> to use other mirrors, preferably "
"a mirror that is network-wise closest to you."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:450
msgid ""
"Debian HTTP or FTP mirror addresses can be found at <ulink "
"url=\"&url-debian-mirrors;\"></ulink> (look at the <quote>list of Debian "
"mirrors</quote> section).  HTTP mirrors are generally speedier than FTP "
"mirrors."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:455
msgid ""
"For example, suppose your closest Debian mirror is "
"<literal>&url-debian-mirror-eg;</literal>.  When inspecting that mirror with "
"a web browser or FTP program, you will notice that the main directories are "
"organized like this:"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:460
#, no-wrap
msgid ""
"\n"
"&url-debian-mirror-eg;/dists/&releasename;/main/binary-&architecture;/...\n"
"&url-debian-mirror-eg;/dists/&releasename;/contrib/binary-&architecture;/...\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:465
msgid ""
"To use this mirror with <systemitem role=\"package\">apt</systemitem>, you "
"add this line to your <filename>sources.list</filename> file:"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:468
#, no-wrap
msgid "deb &url-debian-mirror-eg; &releasename; main contrib"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:470 en/upgrading.dbk:501
msgid ""
"Note that the `<literal>dists</literal>' is added implicitly, and the "
"arguments after the release name are used to expand the path into multiple "
"directories."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:474 en/upgrading.dbk:505
msgid ""
"After adding your new sources, disable the previously existing "
"<quote><literal>deb</literal></quote> lines in "
"<filename>sources.list</filename> by placing a hash sign "
"(<literal>#</literal>) in front of them."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:481
msgid "Adding APT sources for a local mirror"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:483
msgid ""
"Instead of using HTTP or FTP package mirrors, you may wish to modify "
"<filename>/etc/apt/sources.list</filename> to use a mirror on a local disk "
"(possibly mounted over <acronym>NFS</acronym>)."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:488
msgid ""
"For example, your package mirror may be under "
"<filename>/var/ftp/debian/</filename>, and have main directories like this:"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:491
#, no-wrap
msgid ""
"\n"
"/var/ftp/debian/dists/&releasename;/main/binary-&architecture;/...\n"
"/var/ftp/debian/dists/&releasename;/contrib/binary-&architecture;/...\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:496
msgid ""
"To use this with <systemitem role=\"package\">apt</systemitem>, add this "
"line to your <filename>sources.list</filename> file:"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:499
#, no-wrap
msgid "deb file:/var/ftp/debian &releasename; main contrib"
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:512
msgid "Adding APT source from CD-ROM or DVD"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:514
msgid ""
"If you want to use CDs <emphasis>only</emphasis>, comment out the existing "
"<quote><literal>deb</literal></quote> lines in "
"<filename>/etc/apt/sources.list</filename> by placing a hash sign "
"(<literal>#</literal>) in front of them."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:519
msgid ""
"Make sure there is a line in <filename>/etc/fstab</filename> that enables "
"mounting your CD-ROM drive at the <filename>/cdrom</filename> mount point "
"(the exact <filename>/cdrom</filename> mount point is required for "
"<command>apt-cdrom</command>).  For example, if "
"<filename>/dev/hdc</filename> is your CD-ROM drive, "
"<filename>/etc/fstab</filename> should contain a line like:"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:526
#, no-wrap
msgid ""
"\n"
"/dev/hdc /cdrom auto defaults,noauto,ro 0 0\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:530
msgid ""
"Note that there must be <emphasis>no spaces</emphasis> between the words "
"<literal>defaults,noauto,ro</literal> in the fourth field."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:534
msgid "To verify it works, insert a CD and try running"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:536
#, no-wrap
msgid ""
"\n"
"# mount /cdrom    # this will mount the CD to the mount point\n"
"# ls -alF /cdrom  # this should show the CD's root directory\n"
"# umount /cdrom   # this will unmount the CD\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:542
msgid "Next, run:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:544
#, no-wrap
msgid ""
"\n"
"# apt-cdrom add\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:548
msgid ""
"for each Debian Binary CD-ROM you have, to add the data about each CD to "
"APT's database."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:556
msgid "Upgrading packages"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:558
msgid ""
"The recommended way to upgrade from previous &debian; releases is to use the "
"package management tool <command>aptitude</command>.  This program makes "
"safer decisions about package installations than running "
"<command>apt-get</command> directly."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:564
msgid ""
"Don't forget to mount all needed partitions (notably the root and "
"<filename>/usr</filename> partitions) read-write, with a command like:"
msgstr ""

# type: Content of: <chapter><section><screen>
#: en/upgrading.dbk:567
#, no-wrap
msgid ""
"\n"
"# mount -o remount,rw /<replaceable>mountpoint</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:571
msgid ""
"Next you should double-check that the APT source entries (in "
"<filename>/etc/apt/sources.list</filename>) refer either to "
"<quote><literal>&releasename;</literal></quote> or to "
"<quote><literal>stable</literal></quote>.  There should not be any sources "
"entries pointing to &oldreleasename;."
msgstr ""

# type: Content of: <chapter><section><para><note><para>
#: en/upgrading.dbk:577
msgid ""
"Source lines for a CD-ROM will often refer to "
"<quote><literal>unstable</literal></quote>; although this may be confusing, "
"you should <emphasis>not</emphasis> change it."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:584
msgid "Recording the session"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:586
msgid ""
"It is strongly recommended that you use the "
"<command>/usr/bin/script</command> program to record a transcript of the "
"upgrade session.  Then if a problem occurs, you will have a log of what "
"happened, and if needed, can provide exact information in a bug report.  To "
"start the recording, type:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:591
#, no-wrap
msgid ""
"\n"
"# script -t 2&gt;~/upgrade-&releasename;.time -a "
"~/upgrade-&releasename;.script\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:595
msgid ""
"or similar.  Do not put the typescript file in a temporary directory such as "
"<filename>/tmp</filename> or <filename>/var/tmp</filename> (files in those "
"directories may be deleted during the upgrade or during any restart)."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:600
msgid ""
"The typescript will also allow you to review information that has scrolled "
"off-screen.  Just switch to VT2 (using <keycombo "
"action='simul'><keycap>Alt</keycap><keycap>F2</keycap></keycombo>)  and, "
"after logging in, use <literal>less -R "
"~root/upgrade-&releasename;.script</literal> to view the file."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:608
msgid ""
"After you have completed the upgrade, you can stop <command>script</command> "
"by typing <literal>exit</literal> at the prompt."
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:612
#, no-wrap
msgid ""
"\n"
"TODO: Could mention the script I provided in 400725 which is useful if you "
"\n"
"have not dumped the timing file\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:618
msgid ""
"If you have used the <emphasis>-t</emphasis> switch for "
"<command>script</command> you can use the <command>scriptreplay</command> "
"program to replay the whole session:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:622
#, no-wrap
msgid ""
"\n"
"# scriptreplay ~/upgrade-&releasename;.time ~/upgrade-&releasename;.script\n"
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:628
msgid "Updating the package list"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:630
msgid ""
"First the list of available packages for the new release needs to be "
"fetched.  This is done by executing:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:633 en/upgrading.dbk:1061
#, no-wrap
msgid ""
"\n"
"# aptitude update\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:637
msgid ""
"Running this the first time new sources are updated will print out some "
"warnings related to the availability of the sources.  These warnings are "
"harmless and will not appear if you rerun the command again."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:644
msgid "Make sure you have sufficient space for the upgrade"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:646
msgid ""
"You have to make sure before upgrading your system that you have sufficient "
"hard disk space when you start the full system upgrade described in <xref "
"linkend=\"upgrading-other\"/>.  First, any package needed for installation "
"that is fetched from the network is stored in "
"<filename>/var/cache/apt/archives</filename> (and the "
"<filename>partial/</filename> subdirectory, during download), so you must "
"make sure you have enough space on the file system partition that holds "
"<filename>/var/</filename> to temporarily download the packages that will be "
"installed in your system.  After the download, you will probably need more "
"space in other file system partitions in order to both install upgraded "
"packages (which might contain bigger binaries or more data) and new packages "
"that will be pulled in for the upgrade.  If your system does not have "
"sufficient space you might end up with an incomplete upgrade that might be "
"difficult to recover from."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:662
msgid ""
"Both <command>aptitude</command> and <systemitem "
"role=\"package\">apt</systemitem> will show you detailed information of the "
"disk space needed for the installation.  Before executing the upgrade, you "
"can see this estimate by running:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:666
#, no-wrap
msgid ""
"\n"
"# aptitude -y -s -f --with-recommends dist-upgrade\n"
"[ ... ]\n"
"XXX upgraded, XXX newly installed, XXX to remove and XXX not upgraded.\n"
"Need to get xx.xMB/yyyMB of archives. After unpacking AAAMB will be used.\n"
"Would download/install/remove packages.\n"
msgstr ""

# type: Content of: <chapter><section><section><para><footnote>
#: en/upgrading.dbk:674
msgid "<footnote>"
msgstr ""

# type: Content of: <chapter><section><section><para><footnote><para>
#: en/upgrading.dbk:674
msgid ""
"Running this command at the beginning of the upgrade process may give an "
"error, for the reasons described in the next sections.  In that case you "
"will need to wait until you've done the minimal system upgrade as in <xref "
"linkend=\"minimal-upgrade\"/> and upgraded your kernel as in <xref "
"linkend=\"upgrading-kernel\"/> before running this command to estimate the "
"disk space."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:679 en/upgrading.dbk:950
msgid "</footnote>"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:682
msgid ""
"If you do not have enough space for the upgrade, make sure you free up space "
"beforehand.  You can:"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:688
msgid ""
"Remove packages that have been previously downloaded for installation (at "
"<filename>/var/cache/apt/archives</filename>).  Cleaning up the package "
"cache by running <command>apt-get clean</command> or <command>aptitude "
"clean</command> will remove all previously downloaded package files."
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:696
msgid ""
"Remove old packages you no longer use.  If you have <systemitem "
"role=\"package\">popularity-contest</systemitem> installed, you can use "
"<command>popcon-largest-unused</command> to list the packages you do not use "
"in the system that occupy the most space.  You can also use "
"<command>deborphan</command> or <command>debfoster</command> to find "
"obsolete packages (see <xref linkend=\"obsolete\"/> ).  Alternatively you "
"can start <command>aptitude</command> in <quote>visual mode</quote> and find "
"obsolete packages under <quote>Obsolete and Locally Created "
"Packages</quote>."
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:708
msgid ""
"Remove packages taking up too much space, which are not currently needed "
"(you can always reinstall them after the upgrade).  You can list the "
"packages that take up most of the disk space with <command>dpigs</command> "
"(available in the <systemitem role=\"package\">debian-goodies</systemitem> "
"package) or with <command>wajig</command> (running <literal>wajig "
"size</literal>)."
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><programlisting>
#: en/upgrading.dbk:714
#, no-wrap
msgid ""
"\n"
"TODO: consider this for lenny\n"
"You can list packages that take up most of the disk space with\n"
"<systemitem role=\"package\">aptitude</systemitem>.  Start\n"
"<command>aptitude</command> into <emphasis>visual mode</emphasis>,\n"
"select <guimenu>Views</guimenu> and <guimenu>New Flat Package\n"
"List</guimenu> (this menu entry is available only after etch version),\n"
"press <keycap>l</keycap> and enter <keycombo\n"
"action=\"seq\"><keycap>~</keycap><keycap>i</keycap></keycombo>, press\n"
"<keycap>S</keycap> and enter <literal>~installsize</literal>, then it\n"
"will give you nice list to work with.  Doing this after upgrading\n"
"<systemitem role=\"package\">aptitude</systemitem> should give you\n"
"access to this new feature.\n"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:732
msgid ""
"Temporarily move to another system, or permanently remove, system logs "
"residing under <filename>/var/log/</filename>."
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:738
msgid ""
"Use a temporary <filename>/var/cache/apt/archives</filename>: You can use a "
"temporary cache directory from another filesystem (<acronym>USB</acronym> "
"storage device, temporary hard disk, filesystem already in use, ...)"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><note><para>
#: en/upgrading.dbk:745
msgid ""
"Do not use an <acronym>NFS</acronym> mount as the network connection could "
"be interrupted during the upgrade."
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:750
msgid ""
"For example, if you have a <acronym>USB</acronym> drive mounted on "
"<filename>/media/usbkey</filename>:"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para>
#: en/upgrading.dbk:754
msgid "remove the packages that have been previously downloaded for installation:"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:757
#, no-wrap
msgid "# apt-get clean"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para>
#: en/upgrading.dbk:762
msgid ""
"copy the directory <filename>/var/cache/apt/archives</filename> to the "
"<acronym>USB</acronym> drive:"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:766
#, no-wrap
msgid "# cp -ax /var/cache/apt/archives /media/usbkey/"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para>
#: en/upgrading.dbk:771
msgid "mount the temporary cache directory on the current one:"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:773
#, no-wrap
msgid "# mount --bind /media/usbkey/archives /var/cache/apt/archives"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para>
#: en/upgrading.dbk:778
msgid ""
"after the upgrade, restore the original "
"<filename>/var/cache/apt/archives</filename> directory:"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:781
#, no-wrap
msgid "# umount /media/usbkey/archives"
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para><orderedlist><listitem><para>
#: en/upgrading.dbk:786
msgid "remove the remaining <filename>/media/usbkey/archives</filename>."
msgstr ""

# type: Content of: <chapter><section><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:790
msgid ""
"You can create the temporary cache directory on whatever filesystem is "
"mounted on your system."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:796
msgid ""
"Note that in order to safely remove packages, it is advisable to switch your "
"<filename>sources.list</filename> back to &oldreleasename; as described in "
"<xref linkend=\"old-sources\"/>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:803
msgid "Upgrade apt and/or aptitude first"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:805
msgid ""
"Several bug reports have shown that the versions of the <systemitem "
"role=\"package\">aptitude</systemitem> and <systemitem "
"role=\"package\">apt</systemitem> packages in etch are often unable to "
"handle the upgrade to &releasename;. In &releasename;, <systemitem "
"role=\"package\">apt</systemitem> better deals with complex chains of "
"packages requiring immediate configuration and <systemitem "
"role=\"package\">aptitude</systemitem> is smarter in searching solutions for "
"satisfying the dependencies. As these two features are heavily involved "
"during the dist-upgrade to &releasename;, it is then required to upgrade "
"those two packages before upgrading anything else. For <systemitem "
"role=\"package\">apt</systemitem>, run:"
msgstr ""

# type: Content of: <chapter><section><section><para><screen>
#: en/upgrading.dbk:816
#, no-wrap
msgid "# apt-get install apt"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:817
msgid ""
"and for <systemitem role=\"package\">aptitude</systemitem> (if you have it "
"installed) run:"
msgstr ""

# type: Content of: <chapter><section><section><para><screen>
#: en/upgrading.dbk:819
#, no-wrap
msgid "# aptitude install aptitude"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:822
msgid ""
"This step will automatically upgrade <systemitem "
"role=\"package\">libc6</systemitem> and <systemitem "
"role=\"package\">locales</systemitem> and will pull in SELinux support "
"libraries (<systemitem role=\"package\">libselinux1</systemitem>).  At this "
"point, some running services will be restarted, including "
"<command>xdm</command>, <command>gdm</command> and <command>kdm</command>.  "
"As a consequence, local X11 sessions might be disconnected."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:832
msgid "Using aptitude's list of automatically-installed packages with apt"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:834
msgid ""
"<systemitem role=\"package\">aptitude</systemitem> maintains a list of "
"packages that were installed automatically (for instance, as dependencies of "
"another package). In &releasename;, <systemitem "
"role=\"package\">apt</systemitem> now has this feature as well."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:840
msgid ""
"The first time the &releasename; version of <systemitem "
"role=\"package\">aptitude</systemitem> is run, it will read in its list of "
"automatically installed packages and convert it for use with the "
"&releasename; version of <systemitem role=\"package\">apt</systemitem>. If "
"you have <systemitem role=\"package\">aptitude</systemitem> installed, you "
"should at least issue one <command>aptitude</command> command to do the "
"conversion. One way to do this is by searching for a non-existent package:"
msgstr ""

# type: Content of: <chapter><section><section><para><screen>
#: en/upgrading.dbk:849
#, no-wrap
msgid "# aptitude search \"?false\""
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:854
msgid "Minimal system upgrade"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:856
msgid ""
"Because of certain necessary package conflicts between &oldreleasename; and "
"&releasename;, running <literal>aptitude dist-upgrade</literal> directly "
"will often remove large numbers of packages that you will want to keep.  We "
"therefore recommend a two-part upgrade process, first a minimal upgrade to "
"overcome these conflicts, then a full <literal>dist-upgrade</literal>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:863
msgid "First, run:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:865
#, no-wrap
msgid ""
"\n"
"# aptitude upgrade\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:869
msgid ""
"This has the effect of upgrading those packages which can be upgraded "
"without requiring any other packages to be removed or installed."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:873
msgid ""
"The next step will vary depending on the set of packages that you have "
"installed.  These release notes give general advice about which method "
"should be used, but if in doubt, it is recommended that you examine the "
"package removals proposed by each method before proceeding."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:879
msgid ""
"Some common packages that are expected to be removed include <systemitem "
"role=\"package\">base-config</systemitem>, <systemitem "
"role=\"package\">hotplug</systemitem>, <systemitem "
"role=\"package\">xlibs</systemitem>, <systemitem "
"role=\"package\">netkit-inetd</systemitem>, <systemitem "
"role=\"package\">python2.3</systemitem>, <systemitem "
"role=\"package\">xfree86-common</systemitem>, and <systemitem "
"role=\"package\">xserver-common</systemitem>.  For a more information about "
"packages obsoleted in &releasename;, see <xref linkend=\"obsolete\"/>."
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:890
msgid "Upgrading a desktop system"
msgstr ""

# type: Content of: <chapter><section><section><section><programlisting>
#: en/upgrading.dbk:891
#, no-wrap
msgid "TODO: Is this outdated for lenny?"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:893
msgid ""
"This upgrade path has been verified to work on systems with the "
"&oldreleasename; <literal>desktop</literal> task installed.  It is probably "
"the method that will give the best results on systems with the "
"<literal>desktop</literal> task installed, or with the "
"<literal>gnome</literal> or <literal>kde</literal> packages installed."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:900
msgid ""
"It is probably <emphasis>not</emphasis> the correct method to use if you do "
"not already have the <systemitem role=\"package\">libfam0c102</systemitem> "
"and <systemitem role=\"package\">xlibmesa-glu</systemitem> packages "
"installed:"
msgstr ""

# type: Content of: <chapter><section><section><section><screen>
#: en/upgrading.dbk:904 en/upgrading.dbk:936
#, no-wrap
msgid ""
"\n"
"# dpkg -l libfam0c102 | grep ^ii\n"
"# dpkg -l xlibmesa-glu | grep ^ii\n"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:909
msgid "If you do have a full desktop system installed, run:"
msgstr ""

# type: Content of: <chapter><section><section><section><screen>
#: en/upgrading.dbk:911
#, no-wrap
msgid ""
"\n"
"# aptitude install libfam0 xlibmesa-glu\n"
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:917
msgid "Upgrading a system with some X packages installed"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:919
msgid ""
"Systems with some X packages installed, but not the full "
"<literal>desktop</literal> task, require a different method.  This method "
"applies in general to systems with <systemitem "
"role=\"package\">xfree86-common</systemitem> installed, including some "
"server systems which have <systemitem role=\"package\">tasksel</systemitem> "
"server tasks installed as some of these tasks include graphical management "
"tools.  It is likely the correct method to use on systems which run X, but "
"do not have the full <literal>desktop</literal> task installed."
msgstr ""

# type: Content of: <chapter><section><section><section><screen>
#: en/upgrading.dbk:928
#, no-wrap
msgid ""
"\n"
"# dpkg -l xfree86-common | grep ^ii\n"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:932
msgid ""
"First, check whether you have the <systemitem "
"role=\"package\">libfam0c102</systemitem> and <systemitem "
"role=\"package\">xlibmesa-glu</systemitem> packages installed."
msgstr ""

# type: Content of: <chapter><section><section><section><para><footnote>
#: en/upgrading.dbk:941
msgid ""
"If you do not have <systemitem role=\"package\">libfam0c102</systemitem> "
"installed, do not include <systemitem role=\"package\">libfam0</systemitem> "
"in the following commandline.  If you do not have <systemitem "
"role=\"package\">xlibmesa-glu</systemitem> installed, do not include it in "
"the following commandline.  <footnote>"
msgstr ""

# type: Content of: <chapter><section><section><section><para><footnote><para>
#: en/upgrading.dbk:945
msgid ""
"This command will determine whether you need <systemitem "
"role=\"package\">libfam0</systemitem> and <systemitem "
"role=\"package\">xlibmesa-glu</systemitem> installed, and auto-select them "
"for you:"
msgstr ""

# type: Content of: <chapter><section><section><section><para><footnote><screen>
#: en/upgrading.dbk:948
#, no-wrap
msgid ""
" # aptitude install x11-common \\ $(dpkg-query --showformat\n"
"'${Package} ${Status}\\n' -W libfam0c102 xlibmesa-glu \\ | grep 'ok "
"installed$' |\n"
"sed -e's/ .*//; s/c102//') "
msgstr ""

# type: Content of: <chapter><section><section><section><screen>
#: en/upgrading.dbk:952
#, no-wrap
msgid ""
"\n"
"# aptitude install x11-common <replaceable>libfam0</replaceable> "
"<replaceable>xlibmesa-glu</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:956
msgid ""
"Note that installing <systemitem role=\"package\">libfam0</systemitem> will "
"also install the File Alteration Monitor (<systemitem "
"role=\"package\">fam</systemitem>) as well as the RPC portmapper "
"(<systemitem role=\"package\">portmap</systemitem>) if not already available "
"in your system.  Both packages will enable a new network service in the "
"system although they can both be configured to be bound to the (internal) "
"loopback network device."
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:966
msgid "Upgrading a system with no X support installed"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:968
msgid ""
"On a system with no X, no additional <literal>aptitude install</literal> "
"command should be required, and you can move on to the next step."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:976
msgid "Upgrading the kernel"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:977
#, no-wrap
msgid "TODO: This is outdated for lenny, right?"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:979
msgid ""
"The <systemitem role=\"package\">udev</systemitem> version in &releasename; "
"does not support kernel versions earlier than 2.6.15 (which includes "
"&oldreleasename; 2.6.8 kernels), and the <systemitem "
"role=\"package\">udev</systemitem> version in &oldreleasename; will not work "
"properly with the latest kernels.  In addition, installing the &releasename; "
"version of <systemitem role=\"package\">udev</systemitem> will force the "
"removal of <systemitem role=\"package\">hotplug</systemitem>, used by Linux "
"2.4 kernels."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:988
msgid ""
"As a consequence, the previous kernel package will probably not boot "
"properly after this upgrade.  Similarly, there is a time window during the "
"upgrade in which <systemitem role=\"package\">udev</systemitem> has been "
"upgraded but the latest kernel has not been installed.  If the system were "
"to be rebooted at this point, in the middle of the upgrade, it might not be "
"bootable because of drivers not being properly detected and loaded.  (See "
"<xref linkend=\"upgrade-preparations\"/> for recommendations on preparing "
"for this possibility if you are upgrading remotely.)"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:998
msgid ""
"Unless your system has the <literal>desktop</literal> task installed, or "
"other packages that would cause an unacceptable number of package removals, "
"it is therefore recommended that you upgrade the kernel on its own at this "
"point."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1003
msgid "To proceed with this kernel upgrade, run:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1005 en/upgrading.dbk:1285
#, no-wrap
msgid ""
"\n"
"# aptitude install linux-image-2.6-<replaceable>flavor</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1009
msgid ""
"See <xref linkend=\"kernel-metapackage\"/> for help in determining which "
"flavor of kernel package you should install."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1013
msgid ""
"In the desktop case, it is unfortunately not possible to ensure the new "
"kernel package is installed immediately after the new <systemitem "
"role=\"package\">udev</systemitem> is installed, so there is a window of "
"unknown length when your system will have no kernel installed with full "
"hotplug support.  See <xref linkend=\"newkernel\"/> for information on "
"configuring your system to not depend on hotplug for booting."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1023
msgid "Upgrading the rest of the system"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1025
msgid "You are now ready to continue with the main part of the upgrade.  Execute:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1027
#, no-wrap
msgid ""
"\n"
"# aptitude dist-upgrade\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1031
msgid ""
"This will perform a complete upgrade of the system, i.e.  install the newest "
"available versions of all packages, and resolve all possible dependency "
"changes between packages in different releases.  If necessary, it will "
"install some new packages (usually new library versions, or renamed "
"packages), and remove any conflicting obsoleted packages."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1038
msgid ""
"When upgrading from a set of CD-ROMs, you will be asked to insert specific "
"CDs at several points during the upgrade.  You might have to insert the same "
"CD multiple times; this is due to inter-related packages that have been "
"spread out over the CDs."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1044
msgid ""
"New versions of currently installed packages that cannot be upgraded without "
"changing the install status of another package will be left at their current "
"version (displayed as <quote>held back</quote>).  This can be resolved by "
"either using <command>aptitude</command> to choose these packages for "
"installation or by trying <literal>aptitude -f install "
"<replaceable>package</replaceable></literal>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1054
msgid "Getting package signatures"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:1055
#, no-wrap
msgid "TODO: Can be removed for lenny, right?"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1057
msgid ""
"After the upgrade, with the new version of <systemitem "
"role=\"package\">apt</systemitem> you can now update your package "
"information, which will include the new package signature checking "
"mechanism:"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1065
msgid ""
"The upgrade will have already retrieved and enabled the signing keys for "
"Debian's package archives.  If you add other (unofficial) package sources, "
"<systemitem role=\"package\">apt</systemitem> will print warnings related to "
"its inability to confirm that packages downloaded from them are legitimate "
"and have not been tampered with.  For more information please see <xref "
"linkend=\"pkgmgmt\"/>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1074
msgid "Possible issues during upgrade"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1076
msgid ""
"If an operation using <command>aptitude</command>, "
"<command>apt-get</command>, or <command>dpkg</command> fails with the error"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1079
#, no-wrap
msgid ""
"\n"
"E: Dynamic MMap ran out of room\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1083
msgid ""
"the default cache space is insufficient.  You can solve this by either "
"removing or commenting lines you don't need in "
"<filename>/etc/apt/sources.list</filename> or by increasing the cache size.  "
"The cache size can be increased by setting "
"<literal>APT::Cache-Limit</literal> in "
"<filename>/etc/apt/apt.conf</filename>.  The following command will set it "
"to a value that should be sufficient for the upgrade:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1090
#, no-wrap
msgid ""
"\n"
"# echo 'APT::Cache-Limit \"12500000\";' &gt;&gt; /etc/apt/apt.conf\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1094
msgid "This assumes that you do not yet have this variable set in that file."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1097
msgid ""
"Sometimes it's necessary to enable the "
"<literal>APT::Force-LoopBreak</literal> option in APT to be able to "
"temporarily remove an essential package due to a Conflicts/Pre-Depends "
"loop.  <command>aptitude</command> will alert you of this and abort the "
"upgrade.  You can work around this by specifying the option <literal>-o "
"APT::Force-LoopBreak=1</literal> on the <command>aptitude</command> command "
"line."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1105
msgid ""
"It is possible that a system's dependency structure can be so corrupt as to "
"require manual intervention.  Usually this means using "
"<command>aptitude</command> or"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1109
#, no-wrap
msgid ""
"\n"
"# dpkg --remove <replaceable>package_name</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1113
msgid "to eliminate some of the offending packages, or"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1115
#, no-wrap
msgid ""
"\n"
"# aptitude -f install\n"
"# dpkg --configure --pending\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1120
msgid "In extreme cases you might have to force re-installation with a command like"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1122
#, no-wrap
msgid ""
"\n"
"# dpkg --install <replaceable>/path/to/package_name.deb</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1126
msgid ""
"File conflicts should not occur if you upgrade from a <quote>pure</quote> "
"&oldreleasename; system, but can occur if you have unofficial backports "
"installed.  A file conflict will result in an error like:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1130
#, no-wrap
msgid ""
"\n"
"Unpacking <replaceable>&lt;package-foo&gt;</replaceable> (from "
"<replaceable>&lt;package-foo-file&gt;</replaceable>) ...\n"
"dpkg: error processing <replaceable>&lt;package-foo&gt;</replaceable> "
"(--install):\n"
" trying to overwrite `<replaceable>&lt;some-file-name&gt;</replaceable>',\n"
" which is also in package <replaceable>&lt;package-bar&gt;</replaceable>\n"
"dpkg-deb: subprocess paste killed by signal (Broken pipe)\n"
" Errors were encountered while processing:\n"
" <replaceable>&lt;package-foo&gt;</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1140
msgid ""
"You can try to solve a file conflict by forcibly removing the package "
"mentioned on the <emphasis>last</emphasis> line of the error message:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1143
#, no-wrap
msgid ""
"\n"
"# dpkg -r --force-depends <replaceable>package_name</replaceable>\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1147
msgid ""
"After fixing things up, you should be able to resume the upgrade by "
"repeating the previously described <command>aptitude</command> commands."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1151
msgid ""
"During the upgrade, you will be asked questions regarding the configuration "
"or re-configuration of several packages.  When you are asked if any file in "
"the <filename>/etc/init.d</filename> or <filename>/etc/terminfo</filename> "
"directories, or the <filename>/etc/manpath.config</filename> file should be "
"replaced by the package maintainer's version, it's usually necessary to "
"answer `yes' to ensure system consistency.  You can always revert to the old "
"versions, since they will be saved with a <literal>.dpkg-old</literal> "
"extension."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1160
msgid ""
"If you're not sure what to do, write down the name of the package or file "
"and sort things out at a later time.  You can search in the typescript file "
"to review the information that was on the screen during the upgrade."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1169
msgid "Upgrading your kernel and related packages"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1171
msgid ""
"This section explains how to upgrade your kernel and identifies potential "
"issues related to this upgrade.  You can either install one of the "
"<systemitem role=\"package\">linux-image-*</systemitem> packages provided by "
"Debian, or compile a customized kernel from source."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1177
msgid ""
"Note that a lot of information in this section is based on the assumption "
"that you will be using one of the modular Debian kernels, together with "
"<systemitem role=\"package\">initramfs-tools</systemitem> and <systemitem "
"role=\"package\">udev</systemitem>.  If you choose to use a custom kernel "
"that does not require an initrd or if you use a different initrd generator, "
"some of the information may not be relevant for you."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1185
msgid ""
"Note also that if <systemitem role=\"package\">udev</systemitem> is "
"<emphasis>not</emphasis> installed on your system, it is still possible to "
"use <systemitem role=\"package\">hotplug</systemitem> for hardware "
"discovery."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1190
msgid ""
"If you are currently using a 2.4 kernel, you should also read <xref "
"linkend=\"upgrade-to-2.6\"/> carefully."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1194
msgid "Installing the kernel metapackage"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1196
msgid ""
"When you dist-upgrade from &oldreleasename; to &releasename;, it is strongly "
"recommended that you install a new linux-image-2.6-* metapackage.  This "
"package may be installed automatically by the dist-upgrade process.  You can "
"verify this by running:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1200
#, no-wrap
msgid ""
"\n"
"# dpkg -l \"linux-image*\" | grep ^ii\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1204
msgid ""
"If you do not see any output, then you will need to install a new "
"linux-image package by hand.  To see a list of available linux-image-2.6 "
"metapackages, run:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1207
#, no-wrap
msgid ""
"\n"
"# apt-cache search linux-image-2.6- | grep -v transition\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1211
msgid ""
"If you are unsure about which package to select, run <literal>uname "
"-r</literal> and look for a package with a similar name.  For example, if "
"you see '<literal>2.4.27-3-686</literal>', it is recommended that you "
"install <systemitem role=\"package\">linux-image-2.6-686</systemitem>.  "
"(Note that the 386 flavor no longer exists; if you are currently using the "
"386 kernel flavor, you should install the 486 flavor instead.) You may also "
"use <command>apt-cache</command> to see a long description of each package "
"in order to help choose the best one available.  For example:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1220
#, no-wrap
msgid ""
"\n"
"# apt-cache show linux-image-2.6-686\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1224
msgid ""
"You should then use <literal>aptitude install</literal> to install it.  Once "
"this new kernel is installed you should reboot at the next available "
"opportunity to get the benefits provided by the new kernel version."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1229
msgid ""
"For the more adventurous there is an easy way to compile your own custom "
"kernel on &debian;.  Install the <systemitem "
"role=\"package\">kernel-package</systemitem> tool and read the documentation "
"in <filename>/usr/share/doc/kernel-package</filename>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1237
msgid "Upgrading from a 2.6 kernel"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1239
msgid ""
"If you are currently running a 2.6 series kernel from &oldreleasename; this "
"upgrade will take place automatically after you do a full upgrade of the "
"system packages (as described in <xref linkend=\"upgradingpackages\"/> )."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1244
msgid ""
"If possible, it is to your advantage to upgrade the kernel package "
"separately from the main <literal>dist-upgrade</literal> to reduce the "
"chances of a temporarily non-bootable system.  See <xref "
"linkend=\"upgrading-kernel\"/> for a description of this process.  Note that "
"this should only be done after the minimal upgrade process described in "
"<xref linkend=\"minimal-upgrade\"/>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1251
msgid ""
"You can also take this step if you are using your own custom kernel and want "
"to use the kernel available in &releasename;.  If your kernel version is not "
"supported by <systemitem role=\"package\">udev</systemitem> then it is "
"recommended that you upgrade after the minimal upgrade.  If your version is "
"supported by <systemitem role=\"package\">udev</systemitem> you can safely "
"wait until after the full system upgrade."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1261
msgid "Upgrading from a 2.4 kernel"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1263
msgid ""
"If you have a 2.4 kernel installed, and your system relies on <systemitem "
"role=\"package\">hotplug</systemitem> for its hardware detection you should "
"first upgrade to a 2.6 series kernel from &oldreleasename; before attempting "
"the upgrade.  Make sure that the 2.6 series kernel boots your system and all "
"your hardware is properly detected before you perform the upgrade.  The "
"<systemitem role=\"package\">hotplug</systemitem> package is removed from "
"the system (in favor of <systemitem role=\"package\">udev</systemitem>) when "
"you do a full system upgrade.  If you do not do the kernel upgrade before "
"this your system might not boot up properly from this point on.  Once you "
"have done an upgrade to a 2.6 series kernel in &oldreleasename; you can do a "
"kernel upgrade as described in <xref linkend=\"upgrade-from-2.6\"/>."
msgstr ""

# type: Content of: <chapter><section><section><para><footnote>
#: en/upgrading.dbk:1276
msgid ""
"If your system does not rely on <systemitem "
"role=\"package\">hotplug</systemitem><footnote>"
msgstr ""

# type: Content of: <chapter><section><section><para><footnote><para>
#: en/upgrading.dbk:1277
msgid ""
"You can have the kernel modules needed by your system loaded statically "
"through proper configuration of <filename>/etc/modules</filename>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1279
msgid ""
"</footnote> you can delay the kernel upgrade to after you have done a full "
"system upgrade, as described in <xref linkend=\"upgrading-other\"/>.  Once "
"your system has been upgraded you can then do the following (changing the "
"kernel package name to the one most suited to your system by substituting "
"<varname>flavor</varname>):"
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1291
msgid "Device enumeration reordering"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1293
msgid ""
"&releasename; features a more robust mechanism for hardware discovery than "
"previous releases.  However, this may cause changes in the order devices are "
"discovered on your system, affecting the order in which device names are "
"assigned.  For example, if you have two network adapters that are associated "
"with two different drivers, the devices eth0 and eth1 refer to may be "
"swapped.  Please note that the new mechanism means that if you e.g.  "
"exchange ethernet adapters in a running &releasename; system, the new "
"adapter will also get a new interface name."
msgstr ""

# type: Content of: <chapter><section><section><para><footnote>
#: en/upgrading.dbk:1302
msgid ""
"For network devices, you can avoid this reordering by using <systemitem "
"role=\"package\">udev</systemitem> rules, more specifically, through the "
"definitions at "
"<filename>/etc/udev/rules.d/70-persistent-net.rules</filename><footnote>"
msgstr ""

# type: Content of: <chapter><section><section><para><footnote><para>
#: en/upgrading.dbk:1306
msgid ""
"The rules there are automatically generated by the script "
"<filename>/etc/udev/rules.d/75-persistent-net-generator.rules</filename> to "
"have persistent names for network interfaces.  Delete this symlink to "
"disable persistent device naming for <acronym>NIC</acronym>s by <systemitem "
"role=\"package\">udev</systemitem>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1310
msgid ""
"</footnote>.  Alternatively you can use the <command>ifrename</command> "
"utility to bind physical devices to specific names at boot time.  See "
"<citerefentry> <refentrytitle>ifrename</refentrytitle> "
"<manvolnum>8</manvolnum> </citerefentry> and <citerefentry> "
"<refentrytitle>iftab</refentrytitle> <manvolnum>5</manvolnum> "
"</citerefentry> for more information.  The two alternatives (<systemitem "
"role=\"package\">udev</systemitem> and <command>ifrename</command>) should "
"not be used at the same time."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1320
msgid ""
"For storage devices, you can avoid this reordering by using <systemitem "
"role=\"package\">initramfs-tools</systemitem> and configuring it to load "
"storage device driver modules in the same order they are currently loaded.  "
"To do this, identify the order the storage modules on your system were "
"loaded by looking at the output of <command>lsmod</command>.  "
"<command>lsmod</command> lists modules in the reverse order that they were "
"loaded in, i.e., the first module in the list was the last one loaded.  Note "
"that this will only work for devices which the kernel enumerates in a stable "
"order (like PCI devices)."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1330
msgid ""
"However, removing and reloading modules after initial boot will affect this "
"order.  Also, your kernel may have some drivers linked statically, and these "
"names will not appear in the output of <command>lsmod</command>.  You may be "
"able to decipher these driver names and load order from looking at "
"<filename>/var/log/kern.log</filename>, or the output of "
"<command>dmesg</command>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1338
msgid ""
"Add these module names to <filename>/etc/initramfs-tools/modules</filename> "
"in the order they should be loaded at boot time.  Some module names may have "
"changed between &oldreleasename; and &releasename;.  For example, "
"sym53c8xx_2 has become sym53c8xx."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1343
msgid ""
"You will then need to regenerate your initramfs image(s) by executing "
"<literal>update-initramfs -u -k all</literal>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1347
msgid ""
"Once you are running a &releasename; kernel and <systemitem "
"role=\"package\">udev</systemitem>, you may reconfigure your system to "
"access disks by an alias that is not dependent upon driver load order.  "
"These aliases reside in the <filename>/dev/disk/</filename> hierarchy."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1355
msgid "Boot timing issues"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1357
msgid ""
"If an initrd created with <systemitem "
"role=\"package\">initramfs-tools</systemitem> is used to boot the system, in "
"some cases the creation of device files by <systemitem "
"role=\"package\">udev</systemitem> can happen too late for the boot scripts "
"to act on."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1364
msgid ""
"The usual symptoms are that the boot will fail because the root file system "
"cannot be mounted and you are dropped into a debug shell. But if you check "
"afterwards, all devices that are needed are present in "
"<filename>/dev</filename>. This has been observed in cases where the root "
"file system is on a <acronym>USB</acronym> disk or on "
"<acronym>RAID</acronym>, especially if "
"<acronym>LILO</acronym><indexterm><primary>LILO</primary></indexterm> is "
"used."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1371
msgid ""
"A workaround for this issue is to use the boot parameter "
"<literal>rootdelay=<replaceable>9</replaceable></literal>.  The value for "
"the timeout (in seconds) may need to be adjusted."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1380
msgid "Things to do before rebooting"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1382
msgid ""
"When <literal>aptitude dist-upgrade</literal> has finished, the "
"<quote>formal</quote> upgrade is complete, but there are some other things "
"that should be taken care of <emphasis>before</emphasis> the next reboot."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1388
msgid "Rerun lilo"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1390
msgid ""
"If you are using <systemitem role=\"package\">lilo</systemitem> as your "
"bootloader (it is the default bootloader for some installations of "
"&oldreleasename;) it is strongly recommended that you rerun "
"<command>lilo</command> after the upgrade:"
msgstr ""

# type: Content of: <chapter><section><section><screen>
#: en/upgrading.dbk:1394
#, no-wrap
msgid ""
"\n"
"# /sbin/lilo\n"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1398
msgid ""
"Notice this is needed even if you did not upgrade your system's kernel, as "
"<command>lilo</command>'s second stage will change due to the package "
"upgrade."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1402
msgid ""
"Also, review the contents of your <filename>/etc/kernel-img.conf</filename> "
"and make sure that you have <literal>do_bootloader = Yes</literal> in it.  "
"That way the bootloader will always be rerun after a kernel upgrade."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1407
msgid ""
"If you encounter any issues when running <command>lilo</command>, review the "
"symbolic links in <filename>/</filename> to <filename>vmlinuz</filename> and "
"<filename>initrd</filename> and the contents of your "
"<filename>/etc/lilo.conf</filename> for discrepancies."
msgstr ""

# type: Content of: <chapter><section><section><para><footnote>
#: en/upgrading.dbk:1413
msgid ""
"If you forgot to rerun <command>lilo</command> before the reboot or the "
"system is accidentally rebooted before you could do this manually, your "
"system might fail to boot.  Instead of the lilo prompt, you will only see "
"<literal>LI</literal> when booting the system<footnote>"
msgstr ""

# type: Content of: <chapter><section><section><para><footnote><para>
#: en/upgrading.dbk:1416
msgid ""
"For more information on <command>lilo</command>'s boot error codes please "
"see <ulink url=\"http://tldp.org/HOWTO/Bootdisk-HOWTO/a1483.html\">The Linux "
"Bootdisk HOWTO</ulink>."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1419
msgid ""
"</footnote>.  See <xref linkend=\"recovery\"/> for information on how to "
"recover from this."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1425
msgid "Upgrading mdadm"
msgstr ""

# type: Content of: <chapter><section><section><programlisting>
#: en/upgrading.dbk:1426
#, no-wrap
msgid "TODO: Remove for lenny?"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1428
msgid ""
"mdadm now needs a configuration file to assemble MD arrays "
"(<acronym>RAID</acronym>) from the initial ramdisk and during the system "
"initialisation sequence.  Please make sure to read and act upon the "
"instructions in "
"<filename>/usr/share/doc/mdadm/README.upgrading-2.5.3.gz</filename> after "
"the package has been upgraded <emphasis role=\"strong\">and before you "
"reboot</emphasis>.  The latest version of this file is available at <ulink "
"url=\"http://svn.debian.org/wsvn/pkg-mdadm/mdadm/trunk/debian/README.upgrading-2.5.3?op=file\"></ulink>; "
"please consult it in case of problems."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1442
msgid "System boot hangs on <literal>Waiting for root file system</literal>"
msgstr ""

# type: Content of: <chapter><section><subtitle>
#: en/upgrading.dbk:1444
msgid ""
"Procedure to recover from <filename>/dev/hda</filename> that became "
"<filename>/dev/sda</filename>"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1448
msgid ""
"Some users have reported that an upgrade could cause the kernel not finding "
"the system root partition after a system reboot."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1453
msgid "In such case, the system boot will hang on the following message:"
msgstr ""

# type: Content of: <chapter><section><para><screen>
#: en/upgrading.dbk:1454
#, no-wrap
msgid "Waiting for root file system ..."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1455
msgid "and after a few seconds a bare busybox prompt will show."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1459
msgid ""
"This problem can occur when the upgrade of the kernel introduces the use of "
"the new generation of <acronym>IDE</acronym> drivers. The "
"<acronym>IDE</acronym> disk naming convention for the old drivers was "
"<literal>hda</literal>, <literal>hdb</literal>, <literal>hdc</literal>, "
"<literal>hdd</literal>. The new drivers will name the same disks "
"respectively <literal>sda</literal>, <literal>sdb</literal>, "
"<literal>sdc</literal>, <literal>sdd</literal>. The problem appears when the "
"upgrade does not generate a new <filename>/boot/grub/menu.lst</filename> "
"file to take the new naming convention into account. During the boot, Grub "
"will pass a system root partition to the kernel that the kernel doesn't "
"find."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1474
msgid ""
"If you have encountered this problem after upgrading, jump to <xref "
"linkend=\"how-to-recover\"/>. To avoid the problem before upgrading, read "
"ahead."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1480
msgid "How to avoid the problem before upgrading"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1483
msgid ""
"One can avoid this problem entirely by using an identifier for the root "
"filesystem that does not change from one boot to the next. There are two "
"possible methods for doing this - labelling the filesystem, or using the "
"filesystem's universally unique identifier (<acronym>UUID</acronym>). These "
"methods are supported in Debian since the 'etch' release."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1492
msgid ""
"The two approaches have advantages and disadvantages. The labelling approach "
"is more readable, but there may be problems if another filesystem on your "
"machine has the same label. The uuid approach is uglier, but having two "
"clashing uuids is highly unlikely."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1500
msgid ""
"For the examples below we assume the root filesystem is on "
"<filename>/dev/hda6</filename>. We also assume your system has a working "
"udev installation and ext2 or ext3 filesystems."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1506
msgid "To implement the labelling approach:"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1510
msgid ""
"Label the filesystem (the name must be &lt; 16 characters)  by running the "
"command: <command>e2label /dev/hda6 rootfilesys</command>"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1517 en/upgrading.dbk:1579
msgid "Edit <filename>/boot/grub/menu.lst</filename> and change the line:"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1518 en/upgrading.dbk:1580
#, no-wrap
msgid "# kopt=root=/dev/hda6 ro"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1519 en/upgrading.dbk:1543 en/upgrading.dbk:1581 en/upgrading.dbk:1604
msgid "to"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1520
#, no-wrap
msgid "# kopt=root=LABEL=rootfilesys ro"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><note><para>
#: en/upgrading.dbk:1523 en/upgrading.dbk:1585
msgid ""
"Do not remove the <literal>#</literal> at the start of the line, it needs to "
"be there."
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1531 en/upgrading.dbk:1593
msgid ""
"Update the <literal>kernel</literal> lines in <filename>menu.lst</filename> "
"by running the command <command>update-grub</command>."
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1538 en/upgrading.dbk:1600
msgid ""
"Edit <filename>/etc/fstab</filename> and change the line that mounts the "
"<filename>/</filename> partition, e.g.:"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1541 en/upgrading.dbk:1602
#, no-wrap
msgid "/dev/hda6     /     ext3  defaults,errors=remount-ro 0 1"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1545
#, no-wrap
msgid "LABEL=rootfilesys     /     ext3  defaults,errors=remount-ro 0 1"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1547 en/upgrading.dbk:1608
msgid ""
"The change that matters here is the first column, you don't need to modify "
"the other columns of this line."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1555
msgid "To implement the uuid approach:"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1559
msgid ""
"Find out the universally unique identifier of your filesystem by issuing: "
"<command>ls -l /dev/disk/by-uuid | grep hda6</command>"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1563
msgid "You should get a line similar to this one:"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:1564
#, no-wrap
msgid ""
"lrwxrwxrwx 1 root root 24 2008-09-25 08:16 "
"d0dfcc8a-417a-41e3-ad2e-9736317f2d8a -> ../../hda6"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para>
#: en/upgrading.dbk:1566
msgid ""
"The <acronym>UUID</acronym> is the name of the symbolic link pointing to "
"<filename>/dev/hda6</filename> i.e.: "
"<literal>d0dfcc8a-417a-41e3-ad2e-9736317f2d8a</literal>."
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><note><para>
#: en/upgrading.dbk:1571
msgid "Your filesystem <acronym>UUID</acronym> will be a different string."
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1582
#, no-wrap
msgid "# kopt=root=UUID=d0dfcc8a-417a-41e3-ad2e-9736317f2d8 ro"
msgstr ""

# type: Content of: <chapter><section><section><para><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1606
#, no-wrap
msgid ""
"UUID=d0dfcc8a-417a-41e3-ad2e-9736317f2d8  /  ext3  "
"defaults,errors=remount-ro 0 1"
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1617
msgid "How to recover from the problem after the upgrade"
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:1620
msgid "Solution 1"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:1622
msgid ""
"This is applicable when Grub shows you the menu interface for selecting the "
"entry you want to boot from. If such a menu does not appear, try pressing "
"the <keycap>Esc</keycap> key before the kernel boots in order to make it "
"appear.  If you can't get into this menu, try <xref linkend=\"solution2\"/> "
"or <xref linkend=\"solution3\"/>."
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1633
msgid ""
"In the Grub menu, highlight the entry you want to boot from. Press the "
"<keycap>e</keycap> key to edit the options related to this entry. You will "
"see something like:"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:1637
#, no-wrap
msgid ""
"root (hd0,0)\n"
"kernel /vmlinuz-2.6.26-1-686 root=/dev/hda6 ro\n"
"initrd /initrd.img-2.6.26-1-686"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1644
msgid "Highlight the line"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:1646
#, no-wrap
msgid "kernel /vmlinuz-2.6.26-1-686 root=/dev/hda6 ro"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1648
msgid ""
"press the <keycap>e</keycap> key and replace "
"<literal>hd<replaceable>X</replaceable></literal> with "
"<literal>sd<replaceable>X</replaceable></literal> (<varname>X</varname> "
"being the letter <literal>a</literal>, <literal>b</literal>, "
"<literal>c</literal> or <literal>d</literal> depending of your system). In "
"my example the line becomes:"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para><screen>
#: en/upgrading.dbk:1656
#, no-wrap
msgid "kernel /vmlinuz-2.6.26-1-686 root=/dev/sda6 ro"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1658
msgid ""
"Then press <keycap>Enter</keycap> to save the modification. If other lines "
"show <literal>hd<replaceable>X</replaceable></literal>, change these line "
"too. Don't modify the entry similar to <literal>root (hd0,0)</literal>.  "
"Once all modifications are done, press the <keycap>b</keycap> key. And your "
"system should now boot as usual."
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1669
msgid ""
"Now that your system has booted, you need to fix this issue permanently.  "
"Jump to <xref linkend=\"avoid-problems-before-upgrading\"/> and apply one of "
"the two proposed procedures."
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:1679
msgid "Solution 2"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:1682
msgid ""
"Boot from &debian; installation media "
"(<acronym>CD</acronym>/<acronym>DVD</acronym>) and when prompted, type "
"<literal>rescue</literal> to launch rescue mode. Select your language, "
"location, keyboard mapping; then let it configure the network (no matter "
"whether it succeeds or not). After a while, you should be asked for "
"selecting the partition you want to use as root file system. The proposed "
"choices will look something like:"
msgstr ""

# type: Content of: <chapter><section><section><section><para><screen>
#: en/upgrading.dbk:1691
#, no-wrap
msgid ""
"/dev/ide/host0/bus0/target0/lun0/part1\n"
"/dev/ide/host0/bus0/target0/lun0/part2\n"
"/dev/ide/host0/bus0/target0/lun0/part5\n"
"/dev/ide/host0/bus0/target0/lun0/part6"
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:1698
msgid ""
"If you know which partition is your root file system, choose the appropriate "
"one. If you don't, just try with the first. If it complains about an invalid "
"root file system partition, try the next one, and so on. Trying one after "
"the other shouldn't harm your partitions and if you have only one operating "
"system installed on your disks, you should easily find the right root file "
"system partition. If you have many operating systems installed on your "
"disks, it would be better to know exactly which is the right partition."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:1710
msgid ""
"Once you have choosen a partition, you will be offered a range of "
"options. Pick the option of executing a shell in the selected partition. If "
"it complains that it cannot do that then try with another partition."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:1717
msgid ""
"Now you should have shell access as user <literal>root</literal> on your "
"root file system mounted on <filename>/</filename>. You need access to the "
"contents of <filename>/boot</filename>, <filename>/sbin</filename> and "
"<filename>/usr</filename> directories content. If these directories need to "
"be mounted from other partitions, do so (see <filename>/etc/fstab</filename> "
"if you have no idea of which partition to mount)."
msgstr ""

# type: Content of: <chapter><section><section><section><para>
#: en/upgrading.dbk:1727
msgid ""
"Jump to <xref linkend=\"avoid-problems-before-upgrading\"/> and apply one of "
"the two proposed procedures to fix the problem permanently. Then type "
"<literal>exit</literal> to leave the rescue shell and select "
"<literal>reboot</literal> for rebooting the system as usual (don't forget to "
"remove the bootable media)."
msgstr ""

# type: Content of: <chapter><section><section><section><title>
#: en/upgrading.dbk:1737
msgid "Solution 3"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1742
msgid ""
"Boot from your favorite LiveCD distribution, such as Debian Live, Knoppix, "
"or Ubuntu Live."
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1748
msgid ""
"Mount the partition where your <filename>/boot</filename> directory is. If "
"you don't know which one it is, use the output of the command "
"<command>dmesg</command> to find whether your disk is known as "
"<literal>hda</literal>, <literal>hdb</literal>, <literal>hdc</literal>, "
"<literal>hdd</literal> or <literal>sda</literal>, <literal>sdb</literal>, "
"<literal>sdc</literal>, <literal>sdd</literal>. Once you know which disk to "
"work on, for example <literal>sdb</literal>, issue the following command to "
"see the partition table of the disk and to find the right partition: "
"<command>fdisk -l /dev/sdb</command>"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1764
msgid ""
"Assuming that you have mounted the right partition under "
"<filename>/mnt</filename> and that this partition contains the "
"<filename>/boot</filename> directory and its content, edit the "
"<filename>/mnt/boot/grub/menu.lst</filename> file."
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1771
msgid "Find the section similar to:"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1772
#, no-wrap
msgid ""
"## ## End Default Options ##\n"
"\n"
"title           Debian GNU/Linux, kernel 2.6.26-1-686\n"
"root            (hd0,0)\n"
"kernel          /vmlinuz-2.6.26-1-686 root=/dev/hda6 ro\n"
"initrd          /initrd.img-2.6.26-1-686\n"
"\n"
"title           Debian GNU/Linux, kernel 2.6.26-1-686 (single-user mode)\n"
"root            (hd0,0)\n"
"kernel          /vmlinuz-2.6.26-1-686 root=/dev/hda6 ro single\n"
"initrd          /initrd.img-2.6.26-1-686\n"
"\n"
"### END DEBIAN AUTOMAGIC KERNELS LIST"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1786
msgid ""
"and replace every <literal>hda</literal>, <literal>hdb</literal>, "
"<literal>hdc</literal>, <literal>hdd</literal> respectively with "
"<literal>sda</literal>, <literal>sdb</literal>, <literal>sdc</literal>, "
"<literal>sdd</literal>.  Don't modify the line similar to:"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para><programlisting>
#: en/upgrading.dbk:1793
#, no-wrap
msgid "root            (hd0,0)"
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1798
msgid "Reboot the system, remove the LiveCD and your system should boot correctly."
msgstr ""

# type: Content of: <chapter><section><section><section><orderedlist><listitem><para>
#: en/upgrading.dbk:1804
msgid ""
"When it has booted, apply one of the two proposed procedures under <xref "
"linkend=\"avoid-problems-before-upgrading\"/> to fix the problem "
"permanently."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1816
msgid "Preparing for the next release"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1818
msgid ""
"After the upgrade there are several things you can do to prepare for the "
"next release."
msgstr ""

# type: Content of: <chapter><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:1824
msgid ""
"If the new kernel image metapackage was pulled in as a dependency of the old "
"one, it will be marked as automatically installed, which should be "
"corrected:"
msgstr ""

# type: Content of: <chapter><section><itemizedlist><listitem><screen>
#: en/upgrading.dbk:1827
#, no-wrap
msgid ""
"\n"
"# aptitude unmarkauto $(dpkg-query -W 'linux-image-2.6-*' | cut -f1)\n"
msgstr ""

# type: Content of: <chapter><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:1833
msgid ""
"Remove obsolete and unused packages as described in <xref "
"linkend=\"obsolete\"/>.  You should review which configuration files they "
"use and consider purging the packages to remove their configuration files."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1842
msgid "Deprecated packages"
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1844
msgid ""
"With the next release of Debian (codenamed "
"<literal>&nextreleasename;</literal>) a bigger number of server packages "
"will be deprecated, thus updating to newer versions of those now will save "
"you from trouble when updating to <literal>&nextreleasename;</literal>."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1850
msgid "This includes the following packages:"
msgstr ""

# type: Content of: <chapter><section><itemizedlist><listitem><para>
#: en/upgrading.dbk:1855
msgid "<systemitem role=\"package\">uw-imapd</systemitem>, no successor defined yet"
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1862
msgid "Obsolete packages"
msgstr ""

# type: Content of: <chapter><section><para><footnote>
#: en/upgrading.dbk:1864
msgid ""
"Introducing several thousand new packages, &releasename; also retires and "
"omits more than two thousand old packages that were in &oldreleasename;.  It "
"provides no upgrade path for these obsolete packages.  While nothing "
"prevents you from continuing to use an obsolete package where desired, the "
"Debian project will usually discontinue security support for it a year after "
"&releasename;'s release<footnote>"
msgstr ""

# type: Content of: <chapter><section><para><footnote><para>
#: en/upgrading.dbk:1868
msgid ""
"Or for as long as there is not another release in that time frame.  "
"Typically only two stable releases are supported at any given time."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1870
msgid ""
"</footnote>, and will not normally provide other support in the meantime.  "
"Replacing them with available alternatives, if any, is recommended."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1875
msgid ""
"There are many reasons why packages might have been removed from the "
"distribution: they are no longer maintained upstream; there is no longer a "
"Debian Developer interested in maintaining the packages; the functionality "
"they provide has been superseded by different software (or a new version); "
"or they are no longer considered suitable for &releasename; due to bugs in "
"them.  In the latter case, packages might still be present in the "
"<quote>unstable</quote> distribution."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1883
msgid ""
"Detecting which packages in an updated system are <quote>obsolete</quote> is "
"easy since the package management front-ends will mark them as such.  If you "
"are using <command>aptitude</command>, you will see a listing of these "
"packages in the <quote>Obsolete and Locally Created Packages</quote> entry.  "
"<command>dselect</command> provides a similar section but the listing it "
"presents might differ.  Also, if you have used <command>aptitude</command> "
"to manually install packages in &oldreleasename; it will have kept track of "
"those packages you manually installed and will be able to mark as obsolete "
"those packages pulled in by dependencies alone which are no longer needed if "
"a package has been removed.  Also, <command>aptitude</command>, unlike "
"<command>deborphan</command> will not mark as obsolete packages that you "
"manually installed, as opposed to those that were automatically installed "
"through dependencies."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1897
msgid ""
"There are additional tools you can use to find obsolete packages such as "
"<command>deborphan</command>, <command>debfoster</command> or "
"<command>cruft</command>.  <command>deborphan</command> is highly "
"recommended, although it will (in default mode) only report obsolete "
"libraries: packages in the <quote><literal>libs</literal></quote> or "
"<quote><literal>oldlibs</literal></quote> sections that are not used by any "
"other packages.  Do not blindly remove the packages these tools present, "
"especially if you are using aggressive non-default options that are prone to "
"produce false positives.  It is highly recommended that you manually review "
"the packages suggested for removal (i.e.  their contents, size and "
"description) before you remove them."
msgstr ""

# type: Content of: <chapter><section><para>
#: en/upgrading.dbk:1908
msgid ""
"The <ulink url=\"&url-bts;\">Debian Bug Tracking System</ulink> often "
"provides additional information on why the package was removed.  You should "
"review both the archived bug reports for the package itself and the archived "
"bug reports for the <ulink "
"url=\"&url-bts;cgi-bin/pkgreport.cgi?pkg=ftp.debian.org&amp;archive=yes\">ftp.debian.org "
"pseudo-package</ulink>."
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1916
msgid "Dummy packages"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1918
msgid ""
"Some packages from &oldreleasename; have been split into several packages in "
"&releasename;, often to improve system maintainability.  To ease the upgrade "
"path in such cases, &releasename; often provides <quote>dummy</quote> "
"packages: empty packages that have the same name as the old package in "
"&oldreleasename; with dependencies that cause the new packages to be "
"installed.  These <quote>dummy</quote> packages are considered obsolete "
"packages after the upgrade and can be safely removed."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1926
msgid ""
"Most (but not all) dummy packages' descriptions indicate their purpose.  "
"Package descriptions for dummy packages are not uniform, however, so you "
"might also find <command>deborphan</command> with the "
"<literal>--guess</literal> options useful to detect them in your system.  "
"Note that some dummy packages are not intended to be removed after an "
"upgrade but are, instead, used to keep track of the current available "
"version of a program over time."
msgstr ""

# type: Content of: <chapter><section><title>
#: en/upgrading.dbk:1938
msgid "Plans for the next Debian release"
msgstr ""

# type: Content of: <chapter><section><section><title>
#: en/upgrading.dbk:1941
msgid "Drop of the ARM ABI port, in favor of the ARM EABI port"
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1944
msgid ""
"Debian lenny has two different and incompatible ARM ports: the old ABI port "
"(arm) and the new EABI port (armel).  Debian lenny is the last release with "
"support for the ARM ABI port and future releases will only support the ARM "
"EABI or armel port.  It's therefore recommended to use armel for new "
"installations of lenny."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1953
msgid ""
"With the exception of Netwinder, installer images for supported ARM machines "
"are available for both arm and armel in lenny.  Netwinder support is only "
"available for arm and it will be dropped after lenny along with the arm "
"port."
msgstr ""

# type: Content of: <chapter><section><section><para>
#: en/upgrading.dbk:1960
msgid ""
"Please visit <ulink url=\"http://wiki.debian.org/ArmEabiPort\">this "
"page</ulink> to learn more about the ARM EABI (armel) port."
msgstr ""
